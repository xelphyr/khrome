[gd_scene load_steps=10 format=4 uid="uid://posowmkfxeow"]

[ext_resource type="Script" uid="uid://k0t51y0xsv1n" path="res://scripts/door.gd" id="1_txs7p"]
[ext_resource type="Material" uid="uid://c4vh1i42q041g" path="res://assets/mats/black.tres" id="2_fp04d"]

[sub_resource type="ArrayMesh" id="ArrayMesh_8on71"]
_surfaces = [{
"aabb": AABB(-1, -0.5, -3, 2, 17.53822, 6),
"format": 34896613377,
"index_count": 60,
"index_data": PackedByteArray("AAABAAIAAgABAAMAAgAEAAAAAwAFAAIAAgAFAAQAAwAGAAUAAQAGAAMABQAHAAQAAAAEAAcABgAHAAUAAAAHAAgAAQAJAAYAAAAKAAEACgAJAAEACAAKAAAACQALAAYABgALAAcACgALAAkACAAHAAsACAALAAoA"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 12,
"vertex_data": PackedByteArray("AAD///9/AAD//////38AAAAAKK8R5AAA//8orxHkAAAAAAAA//8AAP//AAD//wAA//8AAP9/AAAAAAAA/38AAAAAKK/tGwAA//8AAAAAAAD//yiv7RsAAAAAAAAAAAAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_fp04d"]
_surfaces = [{
"aabb": AABB(-1, -0.5, -3, 2, 17.53822, 6),
"attribute_data": PackedByteArray("/9//X/+f/1//3/8//5//P/+f/z//X/8//58AAP9fAAD/n//f/1//3/+f/7//X/+//1////+f////X/9f/x//X/9f/z//H/8//x//f/9f/3//n/9f/1//X/+f/z//X/8//1//f/+f/3//n/+//1//v/+f/3//X/9//9//f/+f/3//3/9f/5//Xw=="),
"format": 34896613399,
"index_count": 60,
"index_data": PackedByteArray("AAABAAIAAgABAAMABAAFAAYABgAFAAcACAAJAAoACgAJAAsACAAMAAkADQAMAAgADgAPABAAEAAPABEADgASAA8AEwASAA4AFAAVABYAFgAVABcAFAAYABUAGQAYABQAGgAbABwAHAAbAB0AHgAfACAAIAAfACEA"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 34,
"vertex_data": PackedByteArray("AAD///9//////////3///wAAKK8R5P////8orxHk/////yivEeQHwP//AAD//wfAAAAorxHkB8AAAAAA//8HwAAA////f7PVAAAAAP9/xdQAACiv7Rs31QAAAAAAAA/UAAAAAP//bdUAACivEeSf1v//AAD/f/+/AAAAAP9//7///wAA////vwAAAAD///+/AAAAAAAA/7///wAAAAD/v///////f7PV//8AAP9/xdT//yivEeQ31f//AAD//w/U//8AAAAAbdX//yiv7Ruf1gAAKK/tG2z+AAAAAAAAbP7//yiv7Rts/v//AAAAAGz+AAAor+0b/////yiv7Rv//wAA////f/////////9/////f5mV/3+Zlf9/mZX/f5mVr/xPA6/8TwOv/E8Dr/xPA8bVG9Wl1KvVMdVm1cPTHNZy1UXV3daP1AAA/38AAP9/AAD/fwAA/38AAP9/AAD/fzgq4ypZK1MqzSqYKjss4imMKrkqISlvKyK/Ir8ivyK/Ir8ivyK/Ir//f2Tq/39k6v9/ZOr/f2Tq")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_8on71")

[sub_resource type="BoxShape3D" id="BoxShape3D_1xbkx"]
size = Vector3(2, 19, 11)

[sub_resource type="Animation" id="Animation_1xbkx"]
resource_name = "DoorLower"
length = 2.0
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DoorMesh")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0, 2, 1, 0, -18, 0)
tracks/1/type = "position_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 8, 0, 2, 1, 0, -10, 0)

[sub_resource type="Animation" id="Animation_fp04d"]
length = 0.001
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DoorMesh")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0)
tracks/1/type = "position_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_04vkj"]
_data = {
&"DoorLower": SubResource("Animation_1xbkx"),
&"RESET": SubResource("Animation_fp04d")
}

[sub_resource type="BoxMesh" id="BoxMesh_7jip6"]
size = Vector3(3, 20, 10)

[node name="Door" type="StaticBody3D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_txs7p")

[node name="DoorMesh" type="MeshInstance3D" parent="."]
layers = 3
mesh = SubResource("ArrayMesh_fp04d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_1xbkx")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_04vkj")
}

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10.5, 0)
layers = 3
material_override = ExtResource("2_fp04d")
mesh = SubResource("BoxMesh_7jip6")
